<!DOCTYPE html>
<html>
<head>
    <title>Рекламный блок</title>
    <style>
        #ad-container {
            width: 728px;
            height: 728px;
            margin: 20px auto;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px dashed #ccc;
        }
    </style>
</head>
<body>
    <div id="ad-container">
        <button id="fallback-btn" style="display:none;">Показать рекламу</button>
        <iframe 
            id="ad-frame"
            width="728" 
            height="90"
            sandbox="allow-scripts allow-same-origin allow-popups"
            allow="autoplay"
        ></iframe>
    </div>

    <script>
        // Проверяем, загрузился ли iframe
        const frame = document.getElementById("ad-frame");
        const fallbackBtn = document.getElementById("fallback-btn");
        
        frame.onload = () => {
            console.log("IFrame загружен!");
        };
        
        frame.onerror = () => {
            console.error("Ошибка загрузки iframe");
            frame.style.display = "none";
            fallbackBtn.style.display = "block";
        };
        
        // Fallback: открытие в новом окне
        fallbackBtn.onclick = () => {
            window.open("https://mggsh.github.io/musems-spb/", "_blank");
            sendClickReport(); // Ваша функция отправки данных
        };
        
        // Загружаем рекламу
        function loadAd() {
            const adUrl = "https://mggsh.github.io/Ads/";
            frame.src = adUrl;
        }
        
        // Первая загрузка
        loadAd();
    </script>
</body>
</html>